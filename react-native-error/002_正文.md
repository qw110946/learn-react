### 迁移项目npm i报错 
> 17-12-6 

我重新`clone`项目`npm i`包后，再执行`react-native run-android`,
然后生成的app直接就停止运行了。

*   我执行以前的项目是没有问题的，尝试对比两个的package之后有没有什么不同,结果当然看不出什么
*   然后我怀疑是npm i的时候出的问题，百度之后，我删了`node_modules`，用yarn执行,也还是各种报错
*   直到恢复了`react-native-splash-screen`在`/android`文件夹下的改动才能运行成功,看起来就是这东西的问题了。。
*   17-12-14
*   经过在`react-native-splash-screen`的issues中寻找，终于找到解决方法...
*   在`/android/app/src/main/res/values`下新建color.xml`当然如果你有的话就不用新建了`
*   添加如下代码，关于颜色值可以自定义
  
        <?xml version="1.0" encoding="utf-8"?>
            <resources> <color name="primary_dark">#00ffffff</color>
        </resources>
        
*   总结尝试的方法
*   删除`node_modules` 用`yarn`重新安装
*   在android下执行`gradlew clean`
*   清除`react-native-splash-screen`在`/android`文件夹下的改动
*   在`/android/app/src/main/res/values`下新建color.xml`,并添加颜色值代码

### 找不到android SDK
> 18-3-4
*   错误信息

        java.lang.RuntimeException: SDK location not found. Define location with sdk.dir 
        in the local.properties file or with an ANDROID_HOME environment variable.

*   原因是工程找不到我们的android SDK

*   解决方法：在工程的根目录下的android文件下新建一个local.properties的文件，在文件中写入

        sdk.dir = /Users/jinwenfeng/Documents/android/android-sdk-macosx
    
## Execution failed for task... Could not expand ZIP ......
> 18-3-4

*   解决方案

        Execution failed for task ....
        
        Could not expand ZIP ......
        (on windows):
         
        cd android 
        gradlew clean 
        cd ..
        react-native run-android
        or
         
        cd android && gradlew clean && cd .. && react-native run-android

## Android project not found. Maybe run react-native android first
> 18-3-4
*   解决方案

        Go to the Project root.
        Upgrade the React native package in the Command Prompt by typing :
        
        react-native upgrade.
        
        Then Accept to update all the Files by typing y (Yes) in the Command Prompt.
    
## 找不到或无法加载主类 org.gradle.wrapper.GradleWrapperMain
> 18-3-5

*   尝试react-native upgrade

## AndroidManifest.xml:2: AAPT: Tag <manifest> attribute package has invalid character '-'.                    

*   报错信息

        G:\mygit\react-native-image-header-scroll-view\android\app\build\intermediates\manifests\full\debug\Androi
        dManifest.xml:2: AAPT: Tag <manifest> attribute package has invalid character '-'.                        
                                                                                                                  
        G:\mygit\react-native-image-header-scroll-view\android\app\build\intermediates\manifests\full\debug\Androi
        dManifest.xml:18: AAPT: Tag <application> attribute name has invalid character '-'.                       
                                                                                                                  
        G:\mygit\react-native-image-header-scroll-view\android\app\build\intermediates\manifests\full\debug\Androi
        dManifest.xml:24: AAPT: Tag <activity> attribute name has invalid character '-'.                          
                                                                                                                  
        G:\mygit\react-native-image-header-scroll-view\android\app\build\intermediates\manifests\full\debug\Androi
        dManifest.xml:2: Tag <manifest> attribute package has invalid character '-'.                              
        G:\mygit\react-native-image-header-scroll-view\android\app\build\intermediates\manifests\full\debug\Androi
        dManifest.xml:18: Tag <application> attribute name has invalid character '-'.                             
        G:\mygit\react-native-image-header-scroll-view\android\app\build\intermediates\manifests\full\debug\Androi
        dManifest.xml:24: Tag <activity> attribute name has invalid character '-'.                                
                                                                                                                  
        :app:processDebugResources FAILED                                                                         
                                                                                                                  
        FAILURE: Build failed with an exception.                                                                  
                                                                                                                  
        * What went wrong:                                                                                        
        Execution failed for task ':app:processDebugResources'.                                                   
        > com.android.ide.common.process.ProcessException: Failed to execute aapt     
    
*   判断为AndroidManifest.xml文件内不能使用 '-'
*   '-'使用的位置都是项目名称,我的项目名称是`react-native-image-header-scroll-view`

        // 我的AndroidManifest.xml
        <?xml version="1.0" encoding="utf-8"?>
        <manifest xmlns:android="http://schemas.android.com/apk/res/android"
            package="com.react-native-image-header-scroll-view"
            android:versionCode="1"
            android:versionName="1.0" >
        
            <uses-sdk
                android:minSdkVersion="16"
                android:targetSdkVersion="23" />
        
            <uses-permission android:name="android.permission.INTERNET" />
            <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
        
            <android:uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
            <android:uses-permission android:name="android.permission.READ_PHONE_STATE" />
            <android:uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
        
            <application
                android:name="com.react-native-image-header-scroll-view.MainApplication"
                android:allowBackup="true"
                android:icon="@mipmap/ic_launcher"
                android:label="@string/app_name"
                android:theme="@style/AppTheme" >
                <activity
                    android:name="com.react-native-image-header-scroll-view.MainActivity"
                    android:configChanges="keyboard|keyboardHidden|orientation|screenSize"
                    android:label="@string/app_name"
                    android:windowSoftInputMode="adjustResize" >
                    <intent-filter>
                        <action android:name="android.intent.action.MAIN" />
        
                        <category android:name="android.intent.category.LAUNCHER" />
                    </intent-filter>
                </activity>
                <activity android:name="com.facebook.react.devsupport.DevSettingsActivity" />
            </application>
        
        </manifest>
    
*   尝试把`react-native-image-header-scroll-view`去掉'-',全部替换成`reactnativeimageheaderscrollview`保存
然后重新运行`react-native run-android`,结果还是发生了一样的错误，然后AndroidManifest.xml文件里的`reactnativeimageheaderscrollview`
都恢复成`react-native-image-header-scroll-view`了
*   查询stackoverflow后，得到解决方案

        // 解决方案
        // build.gradle
        applicationId "com.react-native-image-header-scroll-view" //-
        applicationId "com.reactnativeimageheaderscrollview"      //+ 去掉'-'
        
## com.android.ddmlib.ShellCommandUnresponsiveException

*   在运行 React-Native 的项目的时候使用命令行 react-native run-android 的时候，有时会遇到
    com.android.ddmlib.ShellCommandUnresponsiveException 报这个异常的时候，一般都是 android 
    中的 build.gradle classpath 'com.android.tools.build:gradle:1.3.0' 的版本太低了，所以只要把它的版本调高了，就可以了
*   [来源](https://blog.csdn.net/linhaosheng123456/article/details/53148719)

## Minimum supported Gradle version is xx Current version is xxx
    
    * What went wrong:
    A problem occurred evaluating project ':app'.
    > Failed to apply plugin [id 'com.android.application']
       > Minimum supported Gradle version is 2.14.1. Current version is 2.4. If using the gradle wrapper
    ng the distributionUrl in G:\mygit\react-native-parallax-scroll-view\examples\ListView\android\gradl
    radle-wrapper.properties to gradle-2.14.1-all.zip
    
*   修改android/gradle/wrapper/gradle-wrapper.properties里面的distributionUrl的版本(改成前面的数字,例如这里是2.14.1

## DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.

* 尝试重新安装ndoejs
* [来源](https://blog.csdn.net/wei_chong_chong/article/details/53761424)

## Cannot add a child that doesn't have a YogaNode to a parent without a measure function! (Trying to add a 'RCTRawText [text: Go]' to a 'RCTView')

    Cannot add a child that doesn't have a YogaNode to a parent without a mea
    sure function! (Trying to add a 'RCTRawText [text: Go]' to a 'RCTView')
    addChildAt
        ReactShadowNodeImpl.java:279
    addChildAt
        ReactShadowNodeImpl.java:56
    setChildren
        UIImplementation.java:482
    setChildren
        UIManagerModule.java:441 
        ...

* 尝试删除JSX中的注释
* 查找是否有文本未放到Text中

## ReactComponentTreeHook.purgeUnmountedComponents is not a function

* 其实如果报了这个错，估计你安装依赖的时候已经看到了一句警告：react-native@0.48.4" has incorrect peer dependency "react@16.0.0-alpha.12".但是被你忽略了，解决方法就是修改你现在安装的react版本为提示的版本： 
yarn add react@16.0.0-alpha.12
* [来源](https://blog.csdn.net/dengdengda/article/details/78748659)
   